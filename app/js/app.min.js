var app=angular.module("tcesp-angular-app.core",["ngRoute","tcesp-angular-app.services","tcesp-angular-app.controllers"]);app.config(["$routeProvider",function(s){s.when("/users",{templateUrl:"views/users.html",controller:"UsersListCtrl"}),s.when("/users/:userId",{templateUrl:"views/users_detail.html",controller:"UsersDetailCtrl"}),s.when("/despesas",{templateUrl:"views/despesas.html",controller:"DespesasMunicipiosCtrl"}),s.when("/despesas/:municipioId",{templateUrl:"views/despesas_detail.html",controller:"DespesasMunicipiosDetailCtrl"}),s.when("/despesas/:municipioId/:orgaoId/:ano",{templateUrl:"views/despesas_orgaos.html",controller:"DespesasOrgaosCtrl"})}]);var services=angular.module("tcesp-angular-app.services",["tcesp-angular-app.services.users","tcesp-angular-app.services.despesas"]),controllers=angular.module("tcesp-angular-app.controllers",["tcesp-angular-app.controllers.users","tcesp-angular-app.controllers.despesas"]),API_URL="http://localhost:5000/api",DespesasSvc=angular.module("tcesp-angular-app.services.despesas",["ngResource"]);DespesasSvc.factory("Despesas",["$resource",function(s){return s(API_URL+"/despesas/:municipioId/:orgaoId/:ano/:tipoDespesa",{},{list:{method:"GET",isArray:!0}})}]);var DespesasCtrl=angular.module("tcesp-angular-app.controllers.despesas",[]);DespesasCtrl.controller("DespesasMunicipiosCtrl",["$scope","Despesas",function(s,e){s.despesas=e.list()}]),DespesasCtrl.controller("DespesasMunicipiosDetailCtrl",["$scope","$routeParams","Despesas",function(s,e,r){s.despesas=r.list({municipioId:e.municipioId})}]),DespesasCtrl.controller("DespesasOrgaosCtrl",["$scope","$routeParams","Despesas",function(s,e,r){s.anos=[2014,2013,2012,2011,2010,2009,2008],s.ano=e.ano,s.despesas=r.list({municipioId:e.municipioId,orgaoId:e.orgaoId,ano:e.ano})}]);var API_URL="http://localhost:5000/api",UsersSvc=angular.module("tcesp-angular-app.services.users",["ngResource"]);UsersSvc.factory("Users",["$resource",function(s){return s(API_URL+"/users/:userId",{},{list:{method:"GET",isArray:!0},update:{method:"PUT"}})}]);var UsersCtrl=angular.module("tcesp-angular-app.controllers.users",[]);UsersCtrl.controller("UsersListCtrl",["$scope","Users",function(s,e){s.users=e.list()}]),UsersCtrl.controller("UsersDetailCtrl",["$scope","$routeParams","Users",function(s,e,r){s.user=r.get({userId:e.userId}),s.form={},s.form.status="",s.editUser=function(){r.update({userId:e.userId},{user:s.user},function(){s.form.status="OK"},function(){s.form.status="REQUEST_ERROR"})}}]);